(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0affe87e"],{1276:function(e,t,a){"use strict";var i=a("d784"),s=a("44e7"),r=a("825a"),n=a("1d80"),o=a("4840"),l=a("8aa5"),u=a("50c4"),m=a("14c3"),c=a("9263"),d=a("d039"),g=[].push,p=Math.min,f=4294967295,h=!d((function(){return!RegExp(f,"y")}));i("split",2,(function(e,t,a){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,a){var i=String(n(this)),r=void 0===a?f:a>>>0;if(0===r)return[];if(void 0===e)return[i];if(!s(e))return t.call(i,e,r);var o,l,u,m=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,h=new RegExp(e.source,d+"g");while(o=c.call(h,i)){if(l=h.lastIndex,l>p&&(m.push(i.slice(p,o.index)),o.length>1&&o.index<i.length&&g.apply(m,o.slice(1)),u=o[0].length,p=l,m.length>=r))break;h.lastIndex===o.index&&h.lastIndex++}return p===i.length?!u&&h.test("")||m.push(""):m.push(i.slice(p)),m.length>r?m.slice(0,r):m}:"0".split(void 0,0).length?function(e,a){return void 0===e&&0===a?[]:t.call(this,e,a)}:t,[function(t,a){var s=n(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,s,a):i.call(String(s),t,a)},function(e,s){var n=a(i,e,this,s,i!==t);if(n.done)return n.value;var c=r(e),d=String(this),g=o(c,RegExp),v=c.unicode,b=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),y=new g(h?c:"^(?:"+c.source+")",b),F=void 0===s?f:s>>>0;if(0===F)return[];if(0===d.length)return null===m(y,d)?[d]:[];var x=0,S=0,G=[];while(S<d.length){y.lastIndex=h?S:0;var T,w=m(y,h?d:d.slice(S));if(null===w||(T=p(u(y.lastIndex+(h?0:S)),d.length))===x)S=l(d,S,v);else{if(G.push(d.slice(x,S)),G.length===F)return G;for(var k=1;k<=w.length-1;k++)if(G.push(w[k]),G.length===F)return G;S=x=T}}return G.push(d.slice(x)),G}]}),!h)},"44e7":function(e,t,a){var i=a("861d"),s=a("c6b6"),r=a("b622"),n=r("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==s(e))}},"5e89":function(e,t,a){var i=a("861d"),s=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&s(e)===e}},"6e02":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}]},[0==e.state?a("el-card",[a("div",{staticClass:"report-title"},[e._v("第一阶段填写报告册")]),a("el-form",{ref:"stage1Form",staticClass:"demo-ruleForm",attrs:{model:e.stage1Form,"status-icon":"",rules:e.rules,"label-position":"top","label-width":"100px"}},[a("el-form-item",{attrs:{label:"指导时间段",prop:"age"}},[a("el-date-picker",{staticStyle:{cursor:"pointer"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}),e._v("至 "),a("el-date-picker",{staticStyle:{cursor:"pointer"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),a("el-form-item",{attrs:{label:"指导方式",prop:"stageGuideWay"}},[a("el-input",{staticStyle:{width:"600px"},attrs:{placeholder:"请输入内容"},model:{value:e.stage1Form.stage1GuideWay,callback:function(t){e.$set(e.stage1Form,"stage1GuideWay",t)},expression:"stage1Form.stage1GuideWay"}})],1),a("el-form-item",{attrs:{label:"实习总结",prop:"stageSummary"}},[a("el-input",{attrs:{type:"textarea",rows:15,width:"500px;",placeholder:"请输入内容,不少于1050字"},model:{value:e.stage1Form.stage1Summary,callback:function(t){e.$set(e.stage1Form,"stage1Summary",t)},expression:"stage1Form.stage1Summary"}})],1),a("el-form-item",[a("limit-number",{staticStyle:{"margin-top":"-20px"},attrs:{testString:e.stage1Form.stage1Summary,maxLength:1050}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit1Form("stage1Form")}}},[e._v("提交")])],1)],1)],1):e._e(),1==e.state?a("el-card",[a("div",{staticClass:"report-title"},[e._v("第二阶段填写报告册")]),a("el-form",{ref:"stage2Form",staticClass:"demo-ruleForm",attrs:{model:e.stage2Form,"status-icon":"",rules:e.rules,"label-position":"top","label-width":"100px"}},[a("el-form-item",{attrs:{label:"指导时间段",prop:"endTime"}},[a("el-date-picker",{staticStyle:{cursor:"pointer"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}),e._v("至 "),a("el-date-picker",{staticStyle:{cursor:"pointer"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),a("el-form-item",{attrs:{label:"指导方式",prop:"age"}},[a("el-input",{staticStyle:{width:"600px"},attrs:{placeholder:"请输入内容"},model:{value:e.stage2Form.stage2GuideWay,callback:function(t){e.$set(e.stage2Form,"stage2GuideWay",t)},expression:"stage2Form.stage2GuideWay"}})],1),a("el-form-item",{attrs:{label:"实习总结",prop:"stageSummary"}},[a("el-input",{attrs:{type:"textarea","show-word-limit":!0,rows:15,width:"500px;",placeholder:"请输入内容,不少于1050字"},model:{value:e.stage2Form.stage2Summary,callback:function(t){e.$set(e.stage2Form,"stage2Summary",t)},expression:"stage2Form.stage2Summary"}})],1),a("el-form-item",[a("limit-number",{staticStyle:{"margin-top":"-20px"},attrs:{testString:e.stage2Form.stage2Summary,maxLength:1050}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit2Form("stage2Form")}}},[e._v("提交")])],1)],1)],1):e._e()],1)},s=[],r=(a("a9e3"),a("8ba4"),a("d3b7"),a("ac1f"),a("1276"),a("bf82")),n=(a("f93b"),a("1ae0")),o=a("c1df"),l=a.n(o),u={components:{limitNumber:r["a"]},data:function(){return{state:"",stage1Form:{stage1GuideDate:"",stage1GuideWay:"",stage1Summary:""},stage2Form:{stage2GuideDate:"",stage2GuideWay:"",stage2Summary:""},endTime:"",startTime:"",value1:"",rules:{},pageLoading:!1}},computed:{},watch:{$route:function(){this.changeState(),this.getContent()}},methods:{changeState:function(){switch(this.$route.params.state){case"first-stage":this.title="第一阶段报告册",this.state="0";break;case"second-stage":this.state="1",this.title="第二阶段报告册";break;default:console.log(404);break}},submit1Form:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.startTime&&(t.stage1Form.stage1GuideDate=l()(t.startTime).format("YYYY-MM-DD")+" - "+l()(t.endTime).format("YYYY-MM-DD")),Object(n["u"])(t.stage1Form).then((function(e){1==e.data.status&&(t.$message.success("提交成功!"),t.getContent())}))}))},submit2Form:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.startTime&&(t.stage2Form.stage2GuideDate=l()(t.startTime).format("YYYY-MM-DD")+" - "+l()(t.endTime).format("YYYY-MM-DD"),Object(n["v"])(t.stage2Form).then((function(e){t.$message.success("提交成功!"),t.getContent()})))}))},getContent:function(){var e=this;this.pageLoading=!0,Object(n["g"])().then((function(t){if(e.stage1Form={stage1GuideDate:t.data.data.stage1GuideDate,stage1GuideWay:t.data.data.stage1GuideWay,stage1Summary:t.data.data.stage1Summary},e.stage2Form={stage2GuideDate:t.data.data.stage2GuideDate,stage2GuideWay:t.data.data.stage2GuideWay,stage2Summary:t.data.data.stage2Summary},0==e.state){if(e.stage1Form.stage1GuideDate){console.log(e.stage1Form);var a=e.stage1Form.stage1GuideDate.split(" - ");e.startTime="Invalid date"==a[0]?"":a[0],e.endTime="Invalid date"==a[1]?"":a[1]}}else if(1==e.state&&e.stage2Form.stage2GuideDate){a=e.stage2Form.stage2GuideDate.split(" - ");e.startTime="Invalid date"==a[0]?"":a[0],e.endTime="Invalid date"==a[1]?"":a[1]}})).finally((function(){e.pageLoading=!1}))}},created:function(){},mounted:function(){this.changeState(),this.getContent()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},m=u,c=(a("a701"),a("2877")),d=Object(c["a"])(m,i,s,!1,null,"e482e150",null);t["default"]=d.exports},"8ba4":function(e,t,a){var i=a("23e7"),s=a("5e89");i({target:"Number",stat:!0},{isInteger:s})},a701:function(e,t,a){"use strict";var i=a("c10c"),s=a.n(i);s.a},c10c:function(e,t,a){}}]);
//# sourceMappingURL=chunk-0affe87e.0ec05b93.js.map