(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07dcf764"],{"18ab":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"report-check"},[a("el-card",{staticClass:"box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{color:"rgb(64,158,255)"}},[e._v(e._s(e.info.name)+"的报告册")])]),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"text item twoItem"},[a("span",{staticClass:"header-title"},[e._v("学院")]),a("span",{staticClass:"header-content"},[e._v(e._s(e.info.college))])]),a("div",{staticClass:"text item twoItem"},[a("span",{staticClass:"header-title"},[e._v("专业")]),a("span",{staticClass:"header-content"},[e._v(e._s(e.info.major))])]),a("div",{staticClass:"text item twoItem"},[a("span",{staticClass:"header-title"},[e._v("学号")]),a("span",{staticClass:"header-content"},[e._v(e._s(e.info.stuNo))])]),a("div",{staticClass:"text item twoItem"},[a("span",{staticClass:"header-title"},[e._v("学院指导教师工号")]),a("span",{staticClass:"header-content"},[e._v(e._s(e.info.teacherNo))])]),a("div",{staticClass:"text item twoItem"},[a("span",{staticClass:"header-title"},[e._v("实习单位")]),a("span",{staticClass:"header-content"},[e._v(e._s(e.info.corpName))])]),a("div",{staticClass:"text item twoItem"},[a("span",{staticClass:"header-title"},[e._v("实习岗位")]),a("span",{staticClass:"header-content"},[e._v(e._s(e.info.corpPosition))])]),a("div",{staticClass:"text item twoItem"},[a("span",{staticClass:"header-title"},[e._v("实习日期")]),a("span",{staticClass:"header-content"},[e._v(e._s(e.res.gmtStart)+" 至 "+e._s(e.res.gmtEnd))])])]),a("div",{staticClass:"state-title"},[e._v("第一阶段")]),a("form-item",{attrs:{title:"第一阶段实习总结",content:e.res.stage1Summary}}),a("form-item",{attrs:{title:"第一阶段实习指导方式",content:e.res.stage1GuideWay,time:e.res.stage1GuideDate}}),a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.res,"status-icon":"",rules:e.rules,"label-width":"100px","label-position":"top",disabled:e.disabled}},[a("el-form-item",{attrs:{label:"教师评语",prop:"res"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.res.stage1Comment,callback:function(t){e.$set(e.res,"stage1Comment",t)},expression:"res.stage1Comment"}}),a("limit",{attrs:{maxLength:500,testString:e.res.stage1Comment}})],1),a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.res.stage1Date,callback:function(t){e.$set(e.res,"stage1Date",t)},expression:"res.stage1Date"}})],1),a("div",{staticClass:"item-title"},[e._v("成绩评定")]),a("el-select",{attrs:{placeholder:"请选择",disabled:e.disabled},model:{value:e.res.stage1Grade,callback:function(t){e.$set(e.res,"stage1Grade",t)},expression:"res.stage1Grade"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"state-title"},[e._v("第二阶段")]),a("form-item",{attrs:{title:"第二阶段实习总结",content:e.res.stage2Summary}}),a("form-item",{attrs:{title:"第二阶段实习指导方式",content:e.res.stage2GuideWay,time:e.res.stage2GuideDate}}),a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.res,"status-icon":"",rules:e.rules,"label-width":"100px","label-position":"top",disabled:e.disabled}},[a("el-form-item",{attrs:{label:"教师评语",prop:"res"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.res.stage2Comment,callback:function(t){e.$set(e.res,"stage2Comment",t)},expression:"res.stage2Comment"}}),a("limit",{attrs:{maxLength:500,testString:e.res.stage2Comment}})],1),a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.res.stage2Date,callback:function(t){e.$set(e.res,"stage2Date",t)},expression:"res.stage2Date"}})],1),a("div",{staticClass:"item-title"},[e._v("成绩评定")]),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.res.stage2Grade,callback:function(t){e.$set(e.res,"stage2Grade",t)},expression:"res.stage2Grade"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.res.tage2GradeDate,callback:function(t){e.$set(e.res,"tage2GradeDate",t)},expression:"res.tage2GradeDate"}})],1)],1),a("div",{staticClass:"state-title"},[e._v("总评")]),a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.res,"status-icon":"",rules:e.rules,"label-width":"100px","label-position":"top",disabled:e.disabled}},[a("el-form-item",{attrs:{label:"评语",prop:"res"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.res.totalGrade,callback:function(t){e.$set(e.res,"totalGrade",t)},expression:"res.totalGrade"}})],1),a("div",{staticClass:"item-title"},[e._v("成绩")]),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.res.totalScore,callback:function(t){e.$set(e.res,"totalScore",t)},expression:"res.totalScore"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submitReport}},[e._v("提交")])],1)],1)],1)],1)},r=[],o=a("b164"),l=a("bf82"),i=a("f93b"),n=a("1ae0"),c={components:{formItem:o["a"],limit:l["a"]},data:function(){return{disabled:!0,info:{name:"加载中",college:"加载中",major:"加载中",stuNo:"加载中",teacherNo:"加载中",corpName:"加载中",corpPosition:"加载中"},res:{gmtStart:"加载中",gmtEnd:"加载中",stage1Summary:"加载中",stage1GuideWay:"加载中",stage1GuideDate:"加载中",stage1Comment:"",stage1Date:"加载中",stage1GradeDate:"",stage1Grade:"",stage2Summary:"加载中",stage2GuideWay:"加载中",stage2Comment:"",stage2GuideDate:"加载中",stage2Date:"加载中",stage2GradeDate:"",stage2Grade:"",totalGrade:"",totalScore:""},rules:{},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},options:[{value:"优秀",label:"优秀"},{value:"良好",label:"良好"},{value:"中等",label:"中等"},{value:"及格",label:"及格"},{value:"不及格",label:"不及格"}]}},methods:{submitReport:function(){var e=this;this.$confirm("确认提交？","提示",{confirmButtonText:"提交",cancelButtonText:"取消",type:"info"}).then((function(){if(console.log(e.res),e.res.stage1Comment.length<60)return e.$alert("一阶段评语不能低于60字","提交失败",{confirmButtonText:"确定"}),!1;if(0!=e.res.stage2Comment.length&&e.res.stage2Comment.length<60)return e.$alert("二阶段评语不能低于60字","提交失败",{confirmButtonText:"确定"}),!1;var t={};t.id=e.res.id,t.stuNo=e.res.stuNo,e.res.stage1Comment&&(t.stage1Comment=e.res.stage1Comment),e.res.stage1Grade&&(t.stage1Grade=e.res.stage1Grade),e.res.stage2Comment&&(t.stage2Comment=e.res.stage2Comment),e.res.stage2Grade&&(t.stage2Grade=e.res.stage2Grade),e.res.totalGrade&&(t.totalGrade=e.res.totalGrade),e.res.totalScore&&(t.totalScore=e.res.totalScore),e.res.stage1Date&&("string"==typeof e.res.stage1Date?t.stage1Date=e.res.stage1Date:t.stage1Date=e.res.stage1Date.getFullYear()+"-"+(e.res.stage1Date.getMonth()+1)+"-"+e.res.stage1Date.getDate(),t.stage1GradeDate=t.stage1Date),e.res.stage2Date&&("string"==typeof e.res.stage2Date?t.stage2Date=e.res.stage2Date:t.stage2Date=e.res.stage2Date.getFullYear()+"-"+(e.res.stage2Date.getMonth()+1)+"-"+e.res.stage2Date.getDate(),t.stage2GradeDate=t.stage2Date),console.log(t),Object(n["c"])(t).then((function(t){console.log(t),1==t.data.status?(e.$message({type:"success",message:"提交成功!"}),e.$router.back()):e.$message({type:"error",message:"提交失败："+t.data.message})}))})).catch((function(){e.$message({type:"info",message:"已取消提交"})}))}},mounted:function(){var e=this,t=this.$route.params.stuNo;Object(n["k"])(t).then((function(a){console.log(a),1==a.data.status&&(e.info=a.data.data,Object(n["m"])(t).then((function(t){console.log(t),1==t.data.status&&(e.res=Object(i["a"])(t.data.data),null==e.res.stage1Comment&&(e.res.stage1Comment=""),null==e.res.stage2Comment&&(e.res.stage2Comment=""),e.disabled=!e.$store.state.isReportStage3Open)})))}))}},d=c,m=(a("ee58"),a("2877")),u=Object(m["a"])(d,s,r,!1,null,"3ae39c7a",null);t["default"]=u.exports},7054:function(e,t,a){},"77ad":function(e,t,a){"use strict";var s=a("b770"),r=a.n(s);r.a},b164:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block-item"},[a("div",{staticClass:"block-title"},[e._v(e._s(e.title))]),a("div",{staticClass:"block-content",domProps:{innerHTML:e._s(e.content)}}),e.time?a("div",{staticClass:"block-time",style:{textAlign:e.timefloat}},[e._v("时间 "+e._s(e.time))]):e._e()])},r=[],o={components:{},props:{title:String,content:String,time:String,timefloat:{type:String,default:"right"}},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},l=o,i=(a("77ad"),a("2877")),n=Object(i["a"])(l,s,r,!1,null,"fd8b811c",null);t["a"]=n.exports},b770:function(e,t,a){},ee58:function(e,t,a){"use strict";var s=a("7054"),r=a.n(s);r.a}}]);
//# sourceMappingURL=chunk-07dcf764.313848d4.js.map